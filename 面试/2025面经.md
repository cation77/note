---
title: 2025 面经
---

## 前端如何实现截图

1. 使用 `html2canvas`
2. 使用 `dom-to-image`
3. 使用 `canvas` API

```javascript
// 方法一：
// 使用 html2canvas 带水印的截图
html2canvas(document.body, {
  allowTaint: true,       // 允许跨域图像
  useCORS: true,          // 使用CORS加载跨域资源
  scale: 2,               // 提高分辨率（防模糊）
  logging: false          // 关闭日志
}).then(canvas => {
  const ctx = canvas.getContext('2d');
  // 添加水印文本
  ctx.font = '20px Arial';
  ctx.fillStyle = 'rgba(255,0,0,0.5)';
  ctx.fillText('Confidential', 20, canvas.height - 30);
  
  // 导出并下载
  const link = document.createElement('a');
  link.download = 'screenshot-with-watermark.png';
  link.href = canvas.toDataURL();
  link.click();
});

// 方法二：Canvas API（简单场景）
// 截取<img>元素内容
const img = document.getElementById('target-image');
const canvas = document.createElement('canvas');
const ctx = canvas.getContext('2d');

canvas.width = img.width;
canvas.height = img.height;
ctx.drawImage(img, 0, 0);

// 导出为DataURL
const dataURL = canvas.toDataURL('image/jpeg', 0.8);
```

## [当QPS达到峰值时,该如何处理?](./QPS峰值处理.md)

当系统QPS（每秒查询率）达到峰值时，需要从前端到后端全链路优化，结合限流、降级、扩容等手段保障系统稳定。

## js 超过 Number 最大值的数怎么处理

1. 使用 BigInt
2. 字符串处理（简单场景），仅需存储或传输大数，不进行数学运算
3. 使用第三方库
   - bignumber.js：用于处理任意精度的数字
   - ecimal.js：提供高精度的十进制运算
  
## js实现大数相加

```JavaScript
function addBigNumbers(num1, num2) {
    let carry = 0; // 进位
    let result = '';
    
    // 将两个数字反转，使得从最低位开始相加
    num1 = num1.split('').reverse();
    num2 = num2.split('').reverse();
    
    const maxLength = Math.max(num1.length, num2.length);
    
    for (let i = 0; i < maxLength; i++) {
        const digit1 = parseInt(num1[i] || '0', 10); // 获取第 i 位数字
        const digit2 = parseInt(num2[i] || '0', 10); // 获取第 i 位数字
        
        const sum = digit1 + digit2 + carry; // 当前位的和
        result += sum % 10; // 当前位的结果
        carry = Math.floor(sum / 10); // 更新进位
    }
    
    // 如果还有进位，添加到结果中
    if (carry) {
        result += carry;
    }
    
    // 反转结果并返回
    return result.split('').reverse().join('');
}

// 示例
const num1 = "123456789012345678901234567890";
const num2 = "987654321098765432109876543210";
console.log(addBigNumbers(num1, num2)); // 输出：1111111110111111111011111111100
```

## 参考

1. [前端面试题](https://maimai.cn/article/detail?fid=1853419102&efid=2VPZyK6a830IyBz2rW1aiQ)
